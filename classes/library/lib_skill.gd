extends "res://classes/library/lib_base.gd"
###############################################################################
#[>] TODO: Modifier to healraw to use bonus healing power
#[v] TODO: Modifier to allow attacks to bypass guard/barrier
#[v] TODO: Chase attack setup.
#[>] TODO: Elodie's Pleine-de-vie skills.
#[ ] TODO: Replace skill constants with strings, replace them on load.
#[ ] TODO: Implement lib_base logic to allow passing "translation dictionaries" so strings can be converted to ints easily.
#[ ] TODO: Allow library entries to inherit from other entries.
###############################################################################
var skill = core.skill #Here as a shortcut so I just have to type "skill" for constants.
const LIBEXT_SKILL_FILTEREX_ARG = "loaderSkillFilterEXArg"
const LIBEXT_SKILL_MESSAGES     = "loaderMessages"
const LIBEXT_EFFECT_STATBONUS   = "loaderEffectStatBonus"
const LIBEXT_SKILL_LINK         = "loaderSkillLink"
const LIBEXT_ANIM               = "loaderAnim"
const LIBEXT_FX                 = "loaderFX"

var example = {
### Core skills #####################################################################################
	#TODO: Aura reveal, esper class. Activate at the start of battle and buff user.
	#TODO: Geo Drain, ??? (feng shui?). Drain 2-3? from elemental field, of the dominant type. Uses its element for healing.
	"core": {
		"wp_arti" : {
			name = "Artillery Mastery",
			description = "Increase damage for artillery-type weapons",
			category = skill.CAT_FIELD,

		},
		"defend" : {
			name = "Defend",
			description = "",
			animations = { 'main' : "/nodes/FX/basic_charge.tscn" },
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_UNTYPED,
			filter = skill.FILTER_ALIVE,
			ranged = true,
			levels = 10,
			accMod = [100,100,100,100,100, 100,100,100,100,100],
			spdMod = [300,200,200,200,200, 200,200,200,200,200],
			AD =     [050,049,048,047,046, 045,044,043,042,041],
			codeMN = [
				["defend",   001,000,000,000,000, 000,000,000,000,000],
			],
		},
		"defup": {
			name = "DEF up",
			description = "Raises defense.",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_CUT,
			effect = skill.EFFECT_STATS,
			effectIfActive = skill.EFFCOLL_ADD,
			effectType = skill.EFFTYPE_BUFF,
			effectStatBonus = {
				DEF_MULT = [150,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = [002, 002, 002, 002, 003,   003, 003, 003, 003, 004],
			effectPriority = 3,
			accMod =	[100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = 			[100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			spdMod = 	[100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
		},
		"accel": {
			name = "Accelerate",
			description = "",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_CUT,
			effect = skill.EFFECT_STATS,
			effectIfActive = skill.EFFCOLL_ADD,
			effectType = skill.EFFTYPE_BUFF,
			effectStatBonus = {
				AGI_MULT = [125,000,000,000,000, 000,000,000,000,000],
				EVASION =  [015,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = [002, 002, 002, 002, 003,   003, 003, 003, 003, 004],
			effectPriority = 3,
			accMod =	[080, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = 			[110, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			spdMod = 	[110, 100, 100, 100, 100,   100, 100, 100, 100, 100],
		},
		"elemshft": {
			name           = "Elemental Shift",
			description    = "Replace all field effect elements: Cut to Fire, Pierce to Elec and Strike to Ice",
			category       = skill.CAT_SUPPORT,
			target         = skill.TARGET_SELF,
			targetGroup    = skill.TARGET_GROUP_ALLY,
			element        = core.stats.ELEMENTS.DMG_UNTYPED,
			spdMod         = 050,
			codeMN = [
				["fe.replace_ex",   0x14, 0],
				["fe.replace_ex",   0x25, 0],
				["fe.replace_ex",   0x36, 0],
			],
		},
	},
## Story mode skills ###############################################################################
	"story": {
# Cromwell's skills ###############################################################################
		'origilaw': {
			name = "Origin Law",
			description = "Powerful untyped attack that cannot miss. Resets elemental field.",
			lore = "Imposes a new Law into the Akashic Records, forming a large mass of energy in an impossibly small space. The resulting violent radiation can leave whole planets barren if not directed properly.",
			dangerous = true,
			category = skill.CAT_ATTACK,
			target = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_UNTYPED,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			ranged = true,
			spdMod = [080,100,100,100,100, 100,100,100,100,100],
			AD =     [010,100,100,100,100, 100,100,100,100,100],
			codeMN = [
				["nomiss"  , 1, 0],
				["ef.reset", 1, 0],
				["attack" ,325,125,132,132,140, 140,147,147,147,160],
			],
		},
		'terranig': {
			#TODO: [ ] This attack name is perhaps the longest. Make sure to redesign the interface so it can fit when redoing that.
			name = "Creation of Heaven and Earth", #天地創造
			description = "Overwhelming attack. Removes positive status effects, might seal the targets.",
			lore = "The true power of an Originator. By gathering the Primordial Chaos and bending it to their will, they can generate a Big Bang, able to generate a new reality.",
			dangerous = true,
			category = skill.CAT_OVER,
			target = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_UNTYPED,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			ranged = true,
			spdMod = [050,100,100,100,100, 100,100,100,100,100],
			AD =     [001,100,100,100,100, 100,100,100,100,100],
			codeMN = [
				["nomiss"  , 1, 0],
				["ef.reset", 1, 0],
				["attack" ,325,125,132,132,140, 140,147,147,147,160],
			],
		},
# Jay's skills ####################################################################################
		"epnfield": {
			name           = "EPN Field",
			description    = "Extends an Energy Particle Negation field, charging the field with electricity. May prevent enemies from modifying the field.",
			category       = skill.CAT_SUPPORT,
			target         = skill.TARGET_SELF,
			targetGroup    = skill.TARGET_GROUP_ALLY,
			element        = core.stats.ELEMENTS.DMG_ELEC,
			effect         = skill.EFFECT_SPECIAL,
			effectType     = skill.EFFTYPE_BUFF,
			effectIfActive = skill.EFFCOLL_REFRESH,
			effectDuration = 3,
			effectPriority = 3,
			ranged         = true,
			spdMod         = 005,
			codeEF = [
				["fe.push",   000, 0],
			],
		},
		"blueshft": {
			name = "Blueshift", #ブルーシフト
			description = "Force-feeds a powerful burst of Over into a generator, causing it to exceed its limitations. This reaction completely negates conventional physics.",
			category = skill.CAT_OVER,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_ELEC,
			effect = skill.EFFECT_SPECIAL|skill.EFFECT_STATS,
			effectType = skill.EFFTYPE_BUFF,
			effectIfActive = skill.EFFCOLL_REFRESH,
			effectStatBonus = {
				AGI_MULT = [025,000,000,000,000, 000,000,000,000,000],
				ATK_MULT = [020,000,000,000,000, 000,000,000,000,000],
				ETK_MULT = [010,000,000,000,000, 000,000,000,000,000],
				RES_KIN  = [-30,000,000,000,000, 000,000,000,000,000],
				RES_ENE  = [-20,000,000,000,000, 000,000,000,000,000],
				OFF_ENE  = [010,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = [002, 003, 003, 003, 004,   004, 004, 004, 004, 005],
			effectPriority = 3,
		},
		"overblue": {
			name = "Over Blue", #オヴァーブルー
			description = "Completely overloads a generator with Over. The ensuing reaction shatters all reason, and all resulting energy will bend to the user's will.",
			category = skill.CAT_OVER,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_ELEC,
			effect = skill.EFFECT_SPECIAL,
			effectType = skill.EFFTYPE_BUFF,
			effectIfActive = skill.EFFCOLL_REFRESH,
			effectDuration = 3,
			effectPriority = 3,
			ranged = true,
			accMod =	[100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			spdMod = [005, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = 		[100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeEF = [
				["fe.push",   000, 033, 033, 033, 033,   033, 033, 033, 033, 033],
			],
		},
		"thunswrd": {
			name = "Thunder Sword", #サンダー・ソード
			description     = "Powerful electric energy damage.\nChain Finish: Adds Chainx10 bonus damage.",
			lore            = "By draining energy from the surrounding area, this attack unleashes a powerful energy beam.",
			animations = { 'main' : "/nodes/FX/basic_charge.tscn", 'startup' : "/nodes/FX/basic_startup.tscn" },
			chargeAnim      = true,
			costOV          = 100,
			category        = skill.CAT_OVER,
			requiresWeapon  = core.WPCLASS_ARTILLERY,
			target          = skill.TARGET_LINE,
			targetGroup     = skill.TARGET_GROUP_ENEMY,
			element         = core.stats.ELEMENTS.DMG_ELEC,
			fieldEffectMult = 2,
			energy       = true,
			damageStat      = core.stats.STAT.ETK,
			chain           = skill.CHAIN_FINISHER,
			ranged          = true,
			accMod = [105,099,099,099,099,   099,099,099,099,099],
			spdMod = [085,100,100,100,100,   100,100,100,100,100],
			AD =     [095,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["get_chain"  , skill.OPFLAG_TARGET_SELF],
				["mul"        , 010,000,000,000,000, 000,000,000,000,000],
				["dmgbonus"   , 000, skill.OPFLAG_USE_SVAL],
				["attack"     , 150,125,132,132,140, 140,147,147,147,160],
				["fe.consume" , 006, 0],
			],
		},
		"brknthun": {
			name = "Broken Thunder", #ブロークン・サンダー
			description = "Improved version of Thunder Sword. Extremely powerful attack fueled entirely by Over energy.",
			lore = "So...this the Over's true form...",
			animations = { 'main' : "/nodes/FX/basic_charge.tscn", 'startup' : "/nodes/FX/basic_startup.tscn" },
			chargeAnim = true,
			costOV = 100,
			category = skill.CAT_OVER,
			requiresWeapon = core.WPCLASS_ARTILLERY,
			target = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_UNTYPED, #No elemental defs.
			fieldEffectMult = 64,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			chain = skill.CHAIN_FINISHER,
			ranged = true,
			accMod = [999,999,999,999,999,   999,999,999,999,999],
			codeMN = [
				["nomiss"         ,001, 0],
				["ignore_barriers",001, 0],
				["ignore_armor"   ,100, 0],
				["guardbreak"     ,001, 0],
				["get_chain"      ,skill.OPFLAG_TARGET_SELF],
				["mul"            ,999, 0],
				["dmgbonus"       ,skill.OPFLAG_USE_SVAL],
				["attack"         ,99999, 0],
				["ef_clear"       ,001, 0],
			],
		},
		"freerang": {
			name = "Free Range",
			description = "Accurate attack. Increases damage with proximity.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ELEC,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			chain = skill.CHAIN_FINISHER,
			ranged = true,
			accMod = [110,110,110,099,099,   099,099,099,099,099],
			spdMod = [085,100,100,100,100,   100,100,100,100,100],
			AD =     [095,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["if_chain>", 003, 0],
					["dmgbonus.on_range",0x4B2001, 0],
				["attack"       ,110,125,132,132,140,   140,147,147,147,160],
			],
		},
		"fastcraw": {
			name = "CRAW Fast Deploy",
			description = "Chance of deploying CRAW at the start of a battle.",
			category = skill.CAT_PASSIVE,
			target = skill.TARGET_SELF,
			element = core.stats.ELEMENTS.DMG_ELEC,
			codeEF = [
				["get_turn"],
				["if_sval<=", 001, 0],
					["skill.auto", 001, 0],
			],
			linkSkill = [ "story/jcraw" ]
		},
		"jcraw": {
			name = "CRAW", #ＣＲＡＷ
			description = "Every attack is followed by an electric energy attack",
			lore = "Capacitive Remote Assault Weapons. Small attack satellites Jay can control remotely to enhance his firepower.",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			element = core.stats.ELEMENTS.DMG_ELEC,
			effect = skill.EFFECT_SPECIAL,
			effectType = skill.EFFTYPE_BUFF,
			effectIfActive = skill.EFFCOLL_ADD,
			effectDuration = 4,
			effectPriority = 3,
			accMod =	100,
			spdMod = 005,
			AD     =	100,
			ranged = true,
			damageStat = core.stats.STAT.ETK,
			fx = ["effector/jcraw"],
			codeEF = [
				["fx.add" , 001, 0],
				["follow" , 0x1640FF, 0]
			],
			codeFL = [
				["attack", 045,125,132,132,140, 140,147,147,147,160],
			],
			synergy = [ "story/plasfeld" ]
		},
		"jrailgun": {
			name = "Railgun",
			description = "Fire energy bolts with high piercing ability.",
			category = skill.CAT_ATTACK,
			requiresWeapon = core.WPCLASS_ARTILLERY,
			target = skill.TARGET_ROW,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ELEC,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			chain = skill.CHAIN_FOLLOW,
			ranged = true,
			accMod = [110,110,110,099,099,   099,099,099,099,099],
			spdMod = [085,100,100,100,100,   100,100,100,100,100],
			AD =     [095,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["ignore_armor" ,080, 0],
				["attack"       ,110,125,132,132,140,   140,147,147,147,160],
			],
		},
		"jshield": {
			name = "Shield",
			description = "If there are two EE on the field, add some Guard at the start of the turn.",
			element = core.stats.ELEMENTS.DMG_ELEC,
			category = skill.CAT_PASSIVE,
			fx = [ "effector/jshield" ],
			codeEF = [
				["if_ef_bonus>=", 002, skill.OPFLAG_BLOCK_START],
					["barrier"        , 025, 0],
					["fx.add"         , 001, 0],
			],
		},
		"jhunter": {
			name = "Hunter",
			description = "Fires a barrage of target-seeking micromissiles.",
			category = skill.CAT_ATTACK,
			requiresWeapon = core.WPCLASS_ARTILLERY,
			target = skill.TARGET_RANDOM1,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ELEC,
			energy = false,
			damageStat = core.stats.STAT.ETK,
			chain = skill.CHAIN_FOLLOW,
			ranged = true,
			accMod = [200,110,110,099,099,   099,099,099,099,099],
			spdMod = [085,100,100,100,100,   100,100,100,100,100],
			AD =     [095,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"       ,045,125,132,132,140,   140,147,147,147,160],
			],
		},
# Magpie's skills #################################################################################
		"gravrefl": {
			name           = "Graviton Reflow",
			description    = "Increase a row's EDF and energy resistance.",
			lore           = "Forces a stream of gravitons to be deployed in an area. Using the strange properties of the G-Crystal, this can shield those affected.",
			category       = skill.CAT_SUPPORT,
			target         = skill.TARGET_ROW,
			targetGroup    = skill.TARGET_GROUP_ALLY,
			element        = core.stats.ELEMENTS.DMG_ULTIMATE,
			effect         = skill.EFFECT_STATS,
			effectIfActive = skill.EFFCOLL_ADD,
			effectType     = skill.EFFTYPE_BUFF,
			effectStatBonus = {
				EDF_MULT = [120,000,000,000,000, 000,000,000,000,000],
				RES_ENE  = [-30,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = 0,
			effectPriority = 0,
			AD = 			[115, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			spdMod = 	[150, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeMN = [
				["if_ef_bonus>=",  001,000,000,000,000,   000,000,000,000,000, skill.OPFLAG_BLOCK_START],
					["barrier",          010,000,000,000,000,   000,000,000,000,000, skill.OPFLAG_VALUE_PERCENT],
			],
			codePO = [
				["if_ef_bonus>=",  001,000,000,000,000,   000,000,000,000,000],
					["fe.take",        001,000,000,000,000,   000,000,000,000,000],
			]
		},
		"gemshrap": {
			name = "Shard Driver",
			description = "While active, every cut attack will follow with an additional pierce.",
			lore        = "Forces a graviton overflow on four G-Crystals, shattering them and launching shards with the power of a shotgun.",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_PIERCE,
			effect = skill.EFFECT_SPECIAL,
			effectType = skill.EFFTYPE_BUFF,
			effectIfActive = skill.EFFCOLL_ADD,
			effectDuration = 3,
			effectPriority = 3,
			accMod =	[100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			spdMod = [005, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = 		[100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeEF = [
				["follow" , 0x164211, 0]
			],
			codeFL = [
				["if_synergy",  001, skill.OPFLAG_TARGET_SELF],
					["fe.mult",     200, 033, 033, 033, 033,   033, 033, 033, 033, 033],
				["attack",			045, 125, 132, 132, 140,   140, 147, 147, 147, 160],
			],
			synergy = [ "debug/dncsword" ]
		},
		"spirbost": {
			name = "Spiral Boost",
			description = "Flies at an enemy, using teleportation to dodge incoming attacks. Successful dodges improve damage. The further away the enemy is, the more time it'll take to reach.",
			category = skill.CAT_ATTACK,
			requiresWeapon = core.WPCLASS_POLEARM,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			energy = false,
			ranged = true,
			spdMod = 	[075,100,100,100,100, 100,100,100,100,100],
			initAD =  [095,095,095,095,095, 090,090,090,090,090],
			AD = 			[125,100,100,100,100, 100,100,100,100,100],
			codePR = [
				["decoy",       100,100,100,100,100,  100,100,100,100,100],
				["dodge",       100,100,100,100,100,  100,100,100,100,100],
				["get_range",   000,000,000,000,000,  000,000,000,000,000],
				["mul",         010,000,000,000,000,  000,000,000,000,000],
				["subi",        100,000,000,000,000,  000,000,000,000,000],
				["agi_mod",     000, skill.OPFLAG_VALUE_PERCENT|skill.OPFLAG_USE_SVAL]
			],
			codeMN = [
				["if_synergy",  001, skill.OPFLAG_TARGET_SELF],
				["fe.mult",     240,240,240,240,240,  240,240,240,240,240],
				["get_dodges",  000,000,000,000,000,  000,000,000,000,000, skill.OPFLAG_TARGET_SELF],
				["mul",         035,035,035,035,035,  035,035,035,035,035],
				["add",         100,100,100,100,100,  100,100,100,100,100],
				["attack",		 000, skill.OPFLAG_USE_SVAL],
			],
			synergy = ["debug/dncsword"]
		},
		"teleslsh": {
			name = "Teleport Slash",
			description = "Teleports above the target and slashes, ignoring distance. \n UU: Decrease target's Active Defense.",
			category = skill.CAT_ATTACK,
			requiresWeapon = core.WPCLASS_POLEARM,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			ranged = true,
			accMod = 105,
			spdMod = [115,100,100,100,100, 100,100,100,100,100],
			initAD = [095,095,095,095,095, 090,090,090,090,090],
			AD =     [105,100,100,100,100, 100,100,100,100,100],
			codeMN = [
				["if_ef_bonus>=", 002, 0],
					["ad"        , -10, 0],
					["dmgbonus"  , 010, 0],
				["attack"       ,	115,000,000,000,000,  000,000,000,000,000],
			],
			synergy = ["debug/dncsword"]
		},
		"portcutt": {
			name = "Portal Cutter",
			description = "Opens a gate across a target, bypassing armor defense and dealing gravity and cut damage.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			displayElement = [1, 8],
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			accMod = 110,
			spdMod = [080,100,100,100,100, 100,100,100,100,100],
			AD     = 100,
			codeMN = [
				["attack.ex"  ,0x0019810, 0],
				["energy_dmg" ,000, 0],
				["attack"     ,045,125,132,132,140, 140,147,147,147,160],
				["if_race_aspect", 0b011, 0],
					["dot"        , 0x1001230, 0]
			],
		},
		"gravipre": {
			name = "Graviton Press",
			description = "Increases gravity pull around a given area, crushing the targets under their own weight.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ULTIMATE,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			accMod = [110,110,110,099,099,   099,099,099,099,099],
			spdMod = [080,100,100,100,100,   100,100,100,100,100],
			AD =     [100,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"       ,105,125,132,132,140,   140,147,147,147,160],
			],
		},
		"gmissile": {
			name           = "G-Crystal Missile",
			description    = "Affected targets will be slower and weaker to Ultimate damage. Will explode when the effect ends.",
			displayElement = [2, 8],
			category       = skill.CAT_ATTACK,
			target         = skill.TARGET_ROW,
			targetGroup    = skill.TARGET_GROUP_ENEMY,
			element        = core.stats.ELEMENTS.DMG_PIERCE,
			energy      = true,
			damageStat     = core.stats.STAT.ETK,
			ranged         = true,
			effect         = skill.EFFECT_STATS|skill.EFFECT_ONEND,
			effectType     = skill.EFFTYPE_DEBUFF,
			effectIfActive = skill.EFFCOLL_FAIL,
			effectStatBonus = {
				AGI_MULT = [-20,000,000,000,000, 000,000,000,000,000],
				RES_ULT  = [030,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = [002,003,003,003,004,   004,004,004,004,005],
			effectPriority = 3,
			accMod = 095,
			spdMod = [080, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD =     [095, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeMN = [
				["attack" , 095,125,132,132,140, 140,147,147,147,160],
			],
			codeED = [
				["anim.play",   001, 0],
				["printmsg",    001, 0],
				["element",     008, 0],
				["fe.replace2", 015, 0],
				["attack",		 045,125,132,132,140,   140,147,147,147,160],
			],
			messages = [
				"Crystals detonate inside {TARGET}!",
			],
		},
		"gatebrkr": {
			name = "Gate Breaker", #ゲート・ブレイカー
			description = "A powerful Ultimate damage attack. Certain conditions will raise its power.",
			lore        = "Magpie's most reliable attack skill. By overcharging her Dimension Eye, a minuscule rupture in space can be created. The resulting energy is released in an instant, damaging a much larger area.",
			animations = { 'main' : "/nodes/FX/basic_charge.tscn", 'startup' : "/nodes/FX/basic_startup3.tscn" },
			category = skill.CAT_OVER,
			costOV = skill.OVER_COST_3,
			target = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ULTIMATE,
			fieldEffectMult = 4,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			ranged = true,
			accMod = 100,
			AD = 110,
			codeMN = [
				["nomiss"         , 001, 0],
				["ignore_armor"   , 050, 0],
				["if_synergy_party", 001, skill.OPFLAG_BLOCK_START|skill.OPFLAG_TARGET_SELF ],
					["fe.push"  , 006, 0],
					["anim.play", 001, 0],
					["dmgbonus", 035,125,132,132,140, 140,147,147,147,160, skill.OPFLAG_BLOCK_END],
				["if_synergy_party", 002, skill.OPFLAG_BLOCK_START|skill.OPFLAG_TARGET_SELF ],
					["guardbreak", 001, 0],
					["nocap"     , 001, 0],
					["dmgbonus", 9999999999, skill.OPFLAG_BLOCK_END],
				[ "attack", 130,125,132,132,140, 140,147,147,147,160 ],
			],
			synergy = [ "story/plasfeld", "story/gdominia" ],
		},
		"gdominia": {
			name = "G-Dominion - Type A",
			description = "The enemy is unable to act for the next turn. Your next turn has everything in your favor.",
			lore = "G-Crystal's true power and the A-Series trump card. Creates an isolated dimension that the user can manipulate at will, using the G-Crystal as a controller. Originally intended to populate hostile dimensions, it can be used as a technique of ultimate devastation.",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_ULTIMATE,
			effect = skill.EFFECT_STATS|skill.EFFECT_ONEND,
			effectType = skill.EFFTYPE_BUFF,
			effectIfActive = skill.EFFCOLL_NULLIFY,
			effectStatBonus = {
					ATK_MULT = [200,000,000,000,000, 000,000,000,000,000],
					ETK_MULT = [200,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = 001,
			effectPriority = 3,
			codeMN = [
				["fe.hyper", 001, 0],
			],
		},
		"codexalt": {
			name = "Code 「EXALT」", #コード「ＥＸＡＬＴ」
			description = "Increases AGI, ATK, ETK, Evasion, resistance to KIN and EN attacks, and Ultimate damage. Will overheat if used for too long.",
			lore = "Releases limiters on the Hollow Engine, allowing temporary access to its full output. Unfortunately, the strain will overheat the engine.",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_ULTIMATE,
			effect = skill.EFFECT_STATS|skill.EFFECT_ONEND,
			effectType = skill.EFFTYPE_BUFF,
			effectIfActive = skill.EFFCOLL_NULLIFY,
			effectStatBonus = {
					AGI_MULT = [015,000,000,000,000, 000,000,000,000,000],
					ATK_MULT = [010,000,000,000,000, 000,000,000,000,000],
					ETK_MULT = [020,000,000,000,000, 000,000,000,000,000],
					RES_KIN  = [-30,000,000,000,000, 000,000,000,000,000],
					RES_ENE  = [-30,000,000,000,000, 000,000,000,000,000],
					OFF_ULT  = [030,000,000,000,000, 000,000,000,000,000],
					EVASION  = [025,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = [002,003,003,003,004, 004,004,004,004,005],
			effectPriority = 3,
			codeMN = [
				["printmsg", 001, 0],
			],
			codeED = [
				["printmsg" , 002, 0],
				["linkskill", 001, 0],
				["anim.play" , 001, 0],
			],
			messages = [
				"{USER}'s limiter released!",
				"{USER}'s engine overheats!",
			],
			linkSkill = [
				["debug", "selfrepr"],
			],
		},
		"codeblgn": {
			name = "Code 「BLADE GUNNER」", #コード「ＢＬＡＤＥ　ＧＵＮＮＥＲ」
			description = "Brotherly combination attack.",
			lore = "Jay and Magpie's combined forces, attacking as one.",
			animations = { 'main' : "/nodes/FX/basic_charge.tscn", 'startup' : "/nodes/FX/basic_startup.tscn" },
			chargeAnim = true,
			costOV = 100,
			category = skill.CAT_OVER,
			target = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_UNTYPED, #No elemental defs.
			fieldEffectMult = 4,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			chain = skill.CHAIN_FINISHER,
			ranged = true,
			codeMN = [
				["ignore_barriers",001, 0],
				["ignore_armor"   ,100, 0],
				["guardbreak"     ,001, 0],
				["attack"         ,1800, 0],
			],
		},
		"codegnst": {
			name = "Code 「GUNSTAR」", #コード「ＧＵＮＳＴＡＲ」
			description = "The power to defend all",
			lore = "Everything",
			animations = { 'main' : "/nodes/FX/basic_charge.tscn", 'startup' : "/nodes/FX/basic_startup.tscn" },
			chargeAnim = true,
			costOV = 100,
			category = skill.CAT_OVER,
			target = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_UNTYPED, #No elemental defs.
			fieldEffectMult = 4,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			chain = skill.CHAIN_FINISHER,
			ranged = true,
			codeMN = [
				["nomiss"         ,001, 0],
				["ignore_barriers",001, 0],
				["ignore_armor"   ,100, 0],
				["guardbreak"     ,001, 0],
				["get_chain"      ,skill.OPFLAG_TARGET_SELF],
				["dmgbonus"       ,skill.OPFLAG_USE_SVAL],
				["attack"         ,1800, 0],
			],
		},
# Shiro's skills ##################################################################################
		"wanyuudo": {
			name = "Wanyuudouzan",
			description = "Long-range fire slash, decreases target's LUC, might curse.",
			category = skill.CAT_ATTACK,
			requiresWeapon = core.WPCLASS_LONGSWORD,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			displayElement = [1, 4],
			energy = true,
			damageStat = core.stats.STAT.ATK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			accMod = 100,
			spdMod = [090,100,100,100,100, 100,100,100,100,100],
			AD     = 100,
			codeMN = [
				["attack.ex"  ,0x002D410, 0],
				["energy_dmg" ,000, 0],
				["attack"     ,090,125,132,132,140, 140,147,147,147,160],
				["inflict", 0x711, 0],
			],
		},
		"raijin": {
			name = "Raijingeki",
			description = "Long-range electrified slash",
			category = skill.CAT_ATTACK,
			requiresWeapon = core.WPCLASS_LONGSWORD,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			displayElement = [1, 6],
			energy = true,
			damageStat = core.stats.STAT.ATK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			accMod = 100,
			spdMod = [090,100,100,100,100, 100,100,100,100,100],
			AD     = 100,
			codeMN = [
				["attack.ex"  ,0x0019810, 0],
				["energy_dmg" ,000, 0],
				["attack"     ,090,125,132,132,140, 140,147,147,147,160],
			],
		},
		"screams": {
			name = "Screams of the deceased", #故人の悲鳴
			description = "Improves ATK when defeating enemies.",
			category = skill.CAT_PASSIVE,
			element = core.stats.ELEMENTS.DMG_UNKNOWN,
			effector = "effector/shimei",
			codeGD = [
				["anim.play", 1, 0],
				["heal", 25, skill.OPFLAG_TARGET_SELF]
			],
		},
# Anna's skills ###################################################################################
		"bloddrve": {
			name = "Blood Drive",
			description = "Restores some health when using Cut attacks on BIO targets.",
			category    = skill.CAT_PASSIVE,
			codeEA1 = [
				["heal", 020, skill.OPFLAG_TARGET_SELF],
			]
		},
		"enrgdrve": {
			name = "Perfect Energy Drive",
			description = "All attack skills have some life drain.",
			category    = skill.CAT_PASSIVE,
			codeEA0 = [
				["drainlife", 020, skill.OPFLAG_TARGET_SELF],
			]
		},
		"savaripp": {
			name = "Savage Ripper",
			description = "Slashes at a single target. If current weapon is out of durability, the slash is much stronger. A last resort.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_FIRE,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			spdMod = [100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = [100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeST = [
				["get_weapon_dur"],
				["if_sval<=", 1, skill.OPFLAG_BLOCK_START],
					["drainlife", 025,125,132,132,140, 140,147,147,147,160],
					["dmgbonus", 100, skill.OPFLAG_BLOCK_END],
			],
			codeMN = [
				["attack", 100, 125, 132, 132, 140,   140, 147, 147, 147, 160],
			],
		},
		"timetrap": {
			name        = "Time Trap",
			description = "Target AGI is reduced to zero for this turn, forcing it to act last.",
			element     = core.stats.ELEMENTS.DMG_UNKNOWN,
			category    = skill.CAT_ATTACK,
			target      = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			damageStat  = core.stats.STAT.ETK,
			energy      = true,
			ranged      = false,
			spdMod      = 190,
			AD          = 100,
			codeMN      = [
				["attack"  , 020, 0],
				["agi_mod" , -1000, 0],
			],
		},
		"overclck": {
			name = "Overclock",
			description = "",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_FIRE,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			effect = skill.EFFECT_STATS|skill.EFFECT_ONEND,
			effectType = skill.EFFTYPE_BUFF,
			effectIfActive = skill.EFFCOLL_NULLIFY,
			effectStatBonus = {
				ATK_MULT = [020,000,000,000,000, 000,000,000,000,000],
				AGI_MULT = [020,000,000,000,000, 000,000,000,000,000],
				OFF_FIR  = [030,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = 2,
			effectPriority = 3,
			spdMod = [100,100,100,100,100,  100,100,100,100,100],
			AD = [100,100,100,100,100,  100,100,100,100,100],
			codeMN = [
				["drainlife", 100,125,132,132,140, 140,147,147,147,160],
				["attack",    100,125,132,132,140, 140,147,147,147,160],
			],
			codeED = [
				["dmgraw", 050, 002, 002, 002, 002,   002, 002, 002, 002, 002, skill.OPFLAG_VALUE_PERCENT],
			],
		},
		"lunablaz": {
			name = "Lunatic Blaze",
			description = "Uses a temporal distortion to fuel a massive blaze, but can call anomalies from the brink of time if interrupted during charge.\nA risky move.",
			animations = {'main': "/nodes/FX/basic_charge.tscn", 'startup' : "/nodes/FX/basic_startup2.tscn", 1: "/nodes/FX/basic_charge.tscn"},
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_FIRE,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			fieldEffectMult = 2,
			fieldEffectAdd = 2,
			targetBlacklist = [["story", "lunablaz"]],
			ranged = true,
			chargeAnim = true,
			spdMod = [001, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			initAD = [025,025,100, 100, 100,   100, 100, 100, 100, 100],
			AD = [100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeMN = [
				["dmg_raw_bonus", 030,125,132,132,140,   140,147,147,147,160],
				["drainlife", 015, 125, 132, 132, 140,   140, 147, 147, 147, 160],
				["attack", 400,125,132,132,140,   140,147,147,147,160],
			],
			codePR = [
				["counter",     0x16400200,002,002,002,002,   140,147,147,147,160],
				["decoy",       100,002,002,002,002,   140,147,147,147,160],
			],
			codeFL = [
				["anim.play",   001,002,002,002,002,   140,147,147,147,160],
				["fe.push",     000,002,002,002,002,   140,147,147,147,160],
				["enemy.summon",001,002,002,002,002,   140,147,147,147,160],
				["attack",      020,002,002,002,002,   140,147,147,147,160],
			],
			summons = [
				{ tid=["story", "lunablaz"], amount = 2, msg="{name} burst forth!", failmsg="" },
				{ tid=["story", "lunablaz"], amount = 1, msg="{name} burst forth!", failmsg="" },
			],
		},
# Yukiko's skills #################################################################################
		"borealsf": {
			name = "Boreal Shift",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ICE,
			fieldEffectMult = 2,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			spdMod = [100,100,100,100,100,   100,100,100,100,100],
			AD =     [095,100,100,100,100,   100,100,100,100,100],
			codeST = [
				["get_fe_bonus" ,004,004,004,004,004,   004,004,004,004,004],
				["mul"          ,002,004,004,004,004,   004,004,004,004,004],
				["fe.consume"   ,004,004,004,004,004,   004,004,004,004,004],
				["fe.replace"   ,000,004,004,004,004,   004,004,004,004,004],
				["dmgbonus"     ,000,004,004,004,004,   004,004,004,004,004, skill.OPFLAG_USE_SVAL],
			],
			codeMN = [
				["attack"       ,050,125,132,132,140,   140,147,147,147,160],
			],
		},
		"kamaita": {
			name = "Kamaitachi",
			description = "Unleashes a barrage of ice blades against the enemy. Effect is enhanced by any active Dancing Swords.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_ROW,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ICE,
			fieldEffectMult = 2,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			accMod = [098,099,099,099,099,   099,099,099,099,099],
			spdMod = [080,100,100,100,100,   100,100,100,100,100],
			AD =     [110,100,100,100,100,   100,100,100,100,100],
			codeST = [
				["get_synergies"     ,001,004,004,004,004,   004,004,004,004,004, skill.OPFLAG_TARGET_SELF],
				["mul"               ,015,004,004,004,004,   004,004,004,004,004],
				["cap"               ,050,004,004,004,004,   004,004,004,004,004],
				["dmgbonus"          ,000,004,004,004,004,   004,004,004,004,004, skill.OPFLAG_USE_SVAL],
			],
			codeMN = [
				["attack"            ,080,125,132,132,140,   140,147,147,147,160],
			],
			synergy = [ "story/dncsword" ],
		},
		"dncsword": {
			name = "Dancing Sword",
			description = "Enchant a party member, giving it a blade of wind that follows their attacks.",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_CUT,
			effect = skill.EFFECT_SPECIAL,
			effectType = skill.EFFTYPE_BUFF,
			effectIfActive = skill.EFFCOLL_ADD,
			effectDuration = 3,
			effectPriority = 3,
			ranged = true,
			accMod =	[100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			spdMod = [005, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = 		[100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeEF = [
				["follow",  0x16421F, 0],
			],
			codeFL = [
				["attack", 045, 125, 132, 132, 140,   140, 147, 147, 147, 160],
			]
		},
		"megido": {
			name = "Megido",
			description = "Extreme untyped damage that ignores barriers.",
			lore = "Combining the hopes of the Balmung crew and backed by the supercomputer SEVEN, Yukiko can modify the Akashic Records and impose a new Law with destructive intent. Channeled through the Prime Blue, the resulting Over energy is overwhelming.",
			category = skill.CAT_OVER,
			target = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_UNTYPED,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			accMod = [098,099,099,099,099,   099,099,099,099,099],
			spdMod = [080,100,100,100,100,   100,100,100,100,100],
			AD =     [110,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"            ,2000,125,132,132,140,   140,147,147,147,160],
			],
		},
	},
## Enemy exclusive skills ##########################################################################
	"enemy": {
		"repair": {
			name = "Minion Repair",
			description = "",
			dangerous = true,
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			energy = true,
			ranged = true,
			spdMod = 080,
			AD     = 115,
			codeMN = [
				["enemy.revive" ,100,125,132,132,140, 140,147,147,147,160],
			],
		},
# Fantôme's skills #############################################################################
		"gdomini7": {
			name = "G-Dominion - Type 7",
			description = "The enemy is unable to act for the next turn. Your next turn has everything in your favor.",
			lore = "A hidden ace to right a wrong of fate.",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_ULTIMATE,
			effect = skill.EFFECT_STATS|skill.EFFECT_ONEND,
			effectType = skill.EFFTYPE_BUFF,
			effectIfActive = skill.EFFCOLL_NULLIFY,
			effectStatBonus = {
					ATK_MULT = [200,000,000,000,000, 000,000,000,000,000],
					ETK_MULT = [200,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = 001,
			effectPriority = 3,
			codeMN = [
				["fe.hyper", 001, 0],
			],
		},
# Millennium's skills #############################################################################
		"gdomini0": {
			name = "G-Dominion - Type 0",
			description = "The enemy is unable to act for the next turn. Your next turn has everything in your favor.",
			lore = "Professor Millenium's ability to manipulate space was beyond mortal comprehension. He probably understood it better than the Originators themselves.",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_ULTIMATE,
			effect = skill.EFFECT_STATS|skill.EFFECT_ONEND,
			effectType = skill.EFFTYPE_BUFF,
			effectIfActive = skill.EFFCOLL_NULLIFY,
			effectStatBonus = {
					ATK_MULT = [200,000,000,000,000, 000,000,000,000,000],
					ETK_MULT = [200,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = 001,
			effectPriority = 3,
			codeMN = [
				["fe.hyper", 001, 0],
			],
		},
# King Solarica skills ############################################################################
		"abtebarr": {
			name        = "Absolute Terror Barrier", #絶対恐怖バリアー
			description = "Unbreakable barrier that negates most damage.",
			lore        = "It is unknown how the King of Solarica managed to acquire this barrier, the only thing we know is that it's fueled by the very concept of terror, present in the souls of all sentient beings. The barrier uses that unlimited energy to bend time and space, negating any damage instantly.",
			dangerous   = true,
			category    = skill.CAT_PASSIVE,
			target      = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			codeEF      = [
				["ad", 001, 0],
			],
		},
		"solapara": {
			name        = "Solarica Parasite", #ソラリカ・パラサイト
			description = "Strong damage over time effect.",
			lore        = "Not much is known about the horrifying Solarica Parasite, as any sample, alive or dead, can contaminate whole planets and become part of them.",
			dangerous   = true,
			category    = skill.CAT_ATTACK,
			target      = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			energy      = true,
			ranged      = true,
			spdMod      = 080,
			AD          = 100,
			codeMN      = [
				#TODO:Check for Solarica Parasite immunity, otherwise set flag to bypass inflict resistance.
				["if_solarica_def", 001, skill.OPFLAG_LOGIC_NOT],
					["dot", 0x102BCF8]
			],
		},
		"swrdneme": {
			name        = "Sword of Nemesis",
			description = "Hits 3 times with strong kinetic cut damage, with the third hit ignoring armor and barriers. Then hits again with energy ultimate damage.",
			lore        = "The Parasite Blade「Nemesis」, one of Solarica's holy treasures, was once a blade to protect the weak, opposing war itself. Now, wielded by the King, it's just a weapon of destruction, unable to resist its grim fate.",
			element     = core.stats.ELEMENTS.DMG_ULTIMATE,
			category    = skill.CAT_ATTACK,
			target      = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			damageStat  = core.stats.STAT.ATK,
			energy      = false,
			ranged      = false,
			spdMod      = 090,
			AD          = 100,
			codeMN      = [
				["attack.ex"      , 0x0096100, 0],
				["attack.ex"      , 0x0096100, 0],
				["ignore_barrier" , 001, 0],
				["ignore_armor"   , 100, 0],
				["attack.ex"      , 0x0096100, 0],
				["energy_dmg"     , 001, 0],
				["attack"         , 200, 0],
			],
		},
		"goddevor": {
			name        = "God Devourer",
			description = "Causes high damage to barriers, then deals massive Cut and Ultimate damage ignoring barriers.",
			lore        = "King Solarica's ability to consume the power of his victims was a great asset to his plans.",
			element     = core.stats.ELEMENTS.DMG_ULTIMATE,
			category    = skill.CAT_ATTACK,
			target      = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			damageStat  = core.stats.STAT.ETK,
			energy      = true,
			ranged      = true,
			spdMod      = 090,
			AD          = 100,
			codeMN      = [
				["guarddamage"    , 200, 0],
				["ignore_barriers", 1, 0],
				["drainlife"      , 100, 0],
				["attack.ex"      , 0x0096100, 0],
				["attack"         , 200, 0],
			],
		},
		"terrgaze": {
			name        = "Terror Gaze",
			description = "Strong ultimate damage that cannot miss. Can incapacitate.",
			lore        = "King Solarica's status as the King of Nightmares isn't an empty title.",
			category    = skill.CAT_ATTACK,
			target      = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element     = core.stats.ELEMENTS.DMG_ULTIMATE,
			energy      = true,
			damageStat  = core.stats.STAT.ETK,
			ranged      = true,
			accMod      = 100,
			AD          = 110,
			codeMN = [
				["nomiss"      , 001, 0],
				["attack"      , 250,125,132,132,140, 140,147,147,147,160 ],
				["inflict"     , 0x421, 0],
			],
		},
		"genoray": {
			name        = "Genocider Ray", #ジェノサイダー・レイ
			description = "Party-wide energy Ultimate damage. Tries to inflict panic and incapacitate.",
			lore        = "The Solarica Parasite's ability to alternate between a solid form and a wave form allows them extreme precision to kill or infect. The genocide of the Kingdom of Solarica was quick and efficient, as no shelter was able to stop the Parasite's relentless attack.",
			category    = skill.CAT_ATTACK,
			target      = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element     = core.stats.ELEMENTS.DMG_ULTIMATE,
			energy      = true,
			chargeAnim  = true,
			damageStat  = core.stats.STAT.ETK,
			ranged      = true,
			accMod      = 100,
			AD          = 110,
			codeMN = [
				["nomiss"      , 001, 0],
				["attack"      , 200,125,132,132,140, 140,147,147,147,160 ],
				["inflict"     , 0x810, 0],
				["inflict"     , 0x410, 0],
			],
		},
		"terrseed": {
			name        = "Terror Seed", #恐怖の種
			description = "Attempts to inflict panic and stun every turn. Decreases speed.",
			lore        = "Having achieved apotheosis as the God of Terror, King Solarica can cause this emotion at will.",
			dangerous   = true,
			category    = skill.CAT_ATTACK,
			target      = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			energy      = true,
			ranged      = true,
			spdMod      = 080,
			AD          = 100,
			codeMN      = [
			],
		},
		"gdomini9": {
			name = "G-Dominion - Type 9",
			description = "All of creation ends.",
			lore = "BE ATTITUDE FOR GAINS",
			dangerous = true,
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_ULTIMATE,
			effect = skill.EFFECT_STATS,
			effectType = skill.EFFTYPE_BUFF,
			effectIfActive = skill.EFFCOLL_NULLIFY,
			effectStatBonus = {
					ATK_MULT = [200,000,000,000,000, 000,000,000,000,000],
					ETK_MULT = [200,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = 001,
			effectPriority = 3,
			codeMN = [
				["fe.hyper", 001, 0],
			],
		},
	},
## Story weapon skills #############################################################################
	"sto_wp": {
# Jay's ORBITAL Rifle ###############################################################################
		"sever": {
			name            = "Sever",
			description     = "Fires a laser beam with high accuracy. If it hits, the target receives additional piercing damage.",
			lore            = "",
			category        = skill.CAT_ATTACK,
			target          = skill.TARGET_SINGLE,
			targetGroup     = skill.TARGET_GROUP_ENEMY,
			element         = core.stats.ELEMENTS.DMG_ELEC,
			fieldEffectMult = 2,
			energy          = true,
			damageStat      = core.stats.STAT.ETK,
			modStat         = core.stats.STAT.LUC,
			chain           = skill.CHAIN_STARTER_AND_FOLLOW,
			ranged          = true,
			accMod          = [100,099,099,099,099,   099,099,099,099,099],
			spdMod          = [100,100,100,100,100,   100,100,100,100,100],
			AD              = [105,100,100,100,100,   100,100,100,100,100],
			codeMN          = [
				["attack"       ,100,125,132,132,140,   140,147,147,147,160],
				["attack.ex"    ,0x0019201, 0]
			],
		},
		"orbishld" : {
			name           = "ORBITAL Shield",
			description    = "Protects a party member with a powerful shield.",
			lore           = "Jay Hunter was an interesting person. He'll deny it, but just a look at his weapon said everything about what mattered to him. Protecting others was a part of him.",
			category       = skill.CAT_SUPPORT,
			target         = skill.TARGET_SINGLE_NOT_SELF,
			targetGroup    = skill.TARGET_GROUP_ALLY,
			effect         = skill.EFFECT_SPECIAL,
			effectType     = skill.EFFTYPE_BUFF,
			effectDuration = [002,002,000,000,000, 000,000,000,000,000],
			effectPriority = 1,
			spdMod         = [300,180,180,180,180, 200,200,200,200,200],
			AD             = [050,048,046,044,042, 038,036,034,032,030],
			codeEF = [
				["protect"    , 100,013,016,019,022,  030,032,035,037,040],
				["if_synergy" , 001,001,001,001,001,  001,001,001,001,001, skill.OPFLAG_BLOCK_START|skill.OPFLAG_TARGET_SELF],
				["counter"    , 0x6400200, skill.OPFLAG_TARGET_SELF]
			],
			codeFL = [
				["chain_follow" , 001,001,001,001,001,  001,001,001,001,002, skill.OPFLAG_TARGET_SELF],
				["element"      , 006,013,016,019,022,  030,032,035,037,040],
				["attack"       , 060,013,016,019,022,  030,032,035,037,040],
			],
			synergy = [ "story/plasfeld" ],
		},
# Jay's LS-EPSILON-MOONLIGHT ##################################################
		"burstcut": {
			name            = "Burst Cut",
			description     = "Powerful attack that targets an enemy row.",
			category        = skill.CAT_ATTACK,
			target          = skill.TARGET_ROW,
			targetGroup     = skill.TARGET_GROUP_ENEMY,
			element         = core.stats.ELEMENTS.DMG_CUT,
			fieldEffectMult = 2,
			energy       = true,
			damageStat      = core.stats.STAT.ETK,
			modStat         = core.stats.STAT.LUC,
			chain           = skill.CHAIN_FINISHER,
			ranged          = false,
			accMod          = [100,099,099,099,099,   099,099,099,099,099],
			spdMod          = [100,100,100,100,100,   100,100,100,100,100],
			AD              = [100,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"       ,100,125,132,132,140,   140,147,147,147,160],
			],
		},
# Jay/Fomalhaut's Fomalhaut Blade #############################################
		"dualshrs": {
			name            = "Dual Shears",
			description     = "Powerful cutting attack that gets its field bonuses from the Strike element.",
			category        = skill.CAT_ATTACK,
			target          = skill.TARGET_SINGLE,
			targetGroup     = skill.TARGET_GROUP_ENEMY,
			element         = core.stats.ELEMENTS.DMG_CUT,
			fieldEffectMult = 2,
			energy       = true,
			damageStat      = core.stats.STAT.ETK,
			modStat         = core.stats.STAT.LUC,
			chain           = skill.CHAIN_FOLLOW,
			ranged          = false,
			accMod          = [100,099,099,099,099,   099,099,099,099,099],
			spdMod          = [100,100,100,100,100,   100,100,100,100,100],
			AD              = [105,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"       ,100,125,132,132,140,   140,147,147,147,160],
			],
		},
		"thoukniv": {
			name            = "Thousand Knives",
			description     = "Uses maximum speed to deliver a powerful sequence of slashes. Gets its field bonuses from the Strike element.",
			category        = skill.CAT_ATTACK,
			target          = skill.TARGET_SINGLE,
			targetGroup     = skill.TARGET_GROUP_ENEMY,
			element         = core.stats.ELEMENTS.DMG_CUT,
			fieldEffectMult = 2,
			energy       = true,
			damageStat      = core.stats.STAT.ETK,
			modStat         = core.stats.STAT.LUC,
			chain           = skill.CHAIN_FINISHER,
			ranged          = true,
			accMod = [100,099,099,099,099,   099,099,099,099,099],
			spdMod = [100,100,100,100,100,   100,100,100,100,100],
			AD =     [105,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"       ,100,125,132,132,140,   140,147,147,147,160],
			],
		},
		"lighflam": {
			name = "Lightning Flamberge",
			description = "Powerful slashing attack.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ELEC,
			fieldEffectMult = 2,
			costOV = core.skill.OVER_COST_2,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			chain = skill.CHAIN_FOLLOW,
			ranged = true,
			accMod = [100,099,099,099,099,   099,099,099,099,099],
			spdMod = [100,100,100,100,100,   100,100,100,100,100],
			AD =     [105,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"       ,100,125,132,132,140,   140,147,147,147,160],
			],
		},
# Magpie's Stardust ###########################################################
		"brstfire": {
			name            = "Burst fire",
			description     = "Hits multiple times.",
			category        = skill.CAT_ATTACK,
			target          = skill.TARGET_SINGLE,
			targetGroup     = skill.TARGET_GROUP_ENEMY,
			element         = core.stats.ELEMENTS.DMG_PIERCE,
			energy          = false,
			damageStat      = core.stats.STAT.ATK,
			ranged          = true,
			accMod          = [090,091,092,093,090, 091,092,093,094,092],
			spdMod          = [100,100,100,100,100, 100,100,100,100,100],
			AD              = 100,
			codeMN          = [
				["attack"       ,030,032,035,038,030, 030,031,032,035,030],
				["attack"       ,030,032,035,038,030, 030,031,032,035,030],
				["attack"       ,030,032,035,038,030, 030,031,032,035,030],
				["attack"       ,000,000,000,000,030, 032,034,036,038,030],
				["attack"       ,000,000,000,000,000, 000,000,000,000,030],
			],
		},
		"shckhmmr": {
			name            = "Shock Hammer",
			description     = "Electric attack. Damage increased with target proximity.",
			category        = skill.CAT_ATTACK,
			target          = skill.TARGET_SINGLE,
			targetGroup     = skill.TARGET_GROUP_ENEMY,
			element         = core.stats.ELEMENTS.DMG_ELEC,
			fieldEffectMult = 2,
			energy          = true,
			damageStat      = core.stats.STAT.ETK,
			ranged          = true,
			accMod          = 095,
			spdMod          = [100,100,100,100,100, 100,100,100,100,100],
			AD              = 125,
			codeMN          = [
				["dmgbonus.on_range", 0xFF5510, 0],
				["attack"       ,010,012,015,018,020, 022,025,028,030,035],
			],
		},
# Magpie's Boost Glaive ########################################################
		"dimslash": {
			name           = "Dimension Slash",
			description    = "Powerful single-target slash. Ignores multiple defenses.",
			category       = skill.CAT_OVER,
			requiresWeapon = core.WPCLASS_POLEARM,
			target         = skill.TARGET_SINGLE,
			targetGroup    = skill.TARGET_GROUP_ENEMY,
			element        = core.stats.ELEMENTS.DMG_CUT,
			ranged         = true,
			accMod         = 105,
			spdMod         = [115,100,100,100,100, 100,100,100,100,100],
			initAD         = [095,095,095,095,095, 090,090,090,090,090],
			AD             = [105,100,100,100,100, 100,100,100,100,100],
			codeMN = [
				["attack"       ,	115,000,000,000,000,  000,000,000,000,000],
			],
			synergy = ["debug/dncsword"]
		},
# Magpie's G-WING ##############################################################
		"gwing01": {
			name           = "G-DISRUPT",
			description    = "Powerful Ultimate attack. Ignores barriers, cannot miss.",
			category       = skill.CAT_ATTACK,
			requiresWeapon = core.WPCLASS_ONBOARD,
			target         = skill.TARGET_SINGLE,
			targetGroup    = skill.TARGET_GROUP_ENEMY,
			element        = core.stats.ELEMENTS.DMG_ULTIMATE,
			ranged         = true,
			accMod         = 105,
			spdMod         = [115,100,100,100,100, 100,100,100,100,100],
			initAD         = [095,095,095,095,095, 090,090,090,090,090],
			AD             = [105,100,100,100,100, 100,100,100,100,100],
			codeMN = [
				["nomiss"],
				["attack"       ,	115,000,000,000,000,  000,000,000,000,000],
			],
			synergy = ["debug/dncsword"]
		},
		"gwing02": {
			name           = "Crystal Blade",
			description    = "Powerful single-target slash. Ignores multiple defenses.",
			category       = skill.CAT_ATTACK,
			requiresWeapon = core.WPCLASS_ONBOARD,
			target         = skill.TARGET_SINGLE,
			targetGroup    = skill.TARGET_GROUP_ENEMY,
			element        = core.stats.ELEMENTS.DMG_ULTIMATE,
			ranged         = true,
			accMod         = 105,
			spdMod         = [115,100,100,100,100, 100,100,100,100,100],
			initAD         = [095,095,095,095,095, 090,090,090,090,090],
			AD             = [105,100,100,100,100, 100,100,100,100,100],
			codeMN = [
				["attack"       ,	115,000,000,000,000,  000,000,000,000,000],
			],
			synergy = ["debug/dncsword"]
		},
		"gwingov": {
			name           = "G-END",
			description    = "Single-target barrage of Ultimate damage. Destroys barriers.",
			lore           = "A relentless barrage of G-DISRUPT shots, supercharged with Over energy.",
			category       = skill.CAT_OVER,
			requiresWeapon = core.WPCLASS_ONBOARD,
			target         = skill.TARGET_SINGLE,
			targetGroup    = skill.TARGET_GROUP_ENEMY,
			element        = core.stats.ELEMENTS.DMG_ULTIMATE,
			ranged         = true,
			accMod         = 105,
			spdMod         = [115,100,100,100,100, 100,100,100,100,100],
			initAD         = [095,095,095,095,095, 090,090,090,090,090],
			AD             = [105,100,100,100,100, 100,100,100,100,100],
			codeMN = [
				["attack"       ,	115,000,000,000,000,  000,000,000,000,000],
			],
			synergy = ["debug/dncsword"]
		},
# Shiro's Gaireitou ###########################################################
		"ganrei": {
			name = "Ganrei-battouzan",
			description = "Enter a defensive stance, and counter with a powerful slash.",
			animations = { 'main' : "/nodes/FX/basic.tscn", 'onfollow' : "/nodes/FX/basic_test.tscn" },
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetPost = skill.TARGET_SELF_ROW,
			element = core.stats.ELEMENTS.DMG_CUT,
			damageStat = core.stats.STAT.ATK,
			modStat = core.stats.STAT.LUC,
			accMod = [100,099,099,099,099,   099,099,099,099,099],
			spdMod = [095,100,100,100,100,   100,100,100,100,100],
			initAD = [075,100,100,100,100,   100,100,100,100,100],
			AD =     [075,100,100,100,100,   100,100,100,100,100],
			codePR = [
				["counter", 0x6400200, 0],
				["decoy",					010,001,001,001,001,  001,001,001,001,001],
			],
			codeMN = [
				["counter", 0x6400200, skill.OPFLAG_TARGET_SELF],
				["decoy"  ,	100,001,001,001,001,  001,001,001,001,001],
				["atk_mod",	120,001,001,001,001,  001,001,001,001,001, skill.OPFLAG_VALUE_PERCENT],
			],
			codePO = [
				["ad",							-05,-01,-01,-01,-01,  -01,-01,-01,-01,-01],
			],
			codeFL = [
				#["anim.play",				001,001,001,019,022,  030,032,035,037,040],
				["attack", 					220,013,016,019,022,  030,032,035,037,040],
			],
		},
		"reienzan": {
			name = "Reienzan",
			description = "Slashes the very soul of the target, setting it ablaze. Specially effective against targets with a spirit.",
			animations = { 'main' : "/nodes/FX/basic_test.tscn" },
			displayElement = [1, 7],
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			damageStat = core.stats.STAT.ATK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			accMod = [100,099,099,099,099,   099,099,099,099,099],
			spdMod = [100,100,100,100,100,   100,100,100,100,100],
			AD =     [105,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"        , 100,125,132,132,140,   140,147,147,147,160],
				["if_race_aspect", 003,003,003,003,003,   003,003,003,003,003],
				["dmgbonus",       100,125,132,132,140,   140,147,147,147,160],
				["energy_dmg",     001,001,132,132,140,   140,147,147,147,160],
				["attack"        , 080,125,132,132,140,   140,147,147,147,160],
			],
		},
		"jigenzan": {
			name = "Jigenzan",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			damageStat = core.stats.STAT.ATK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			accMod = [100,099,099,099,099,   099,099,099,099,099],
			spdMod = [100,100,100,100,100,   100,100,100,100,100],
			AD =     [105,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"       ,100,125,132,132,140,   140,147,147,147,160],
			],
		},
		"retugiri": {
			name = "Retsugiri",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			damageStat = core.stats.STAT.ATK,
			modStat = core.stats.STAT.LUC,
			accMod = [100,099,099,099,099,   099,099,099,099,099],
			spdMod = [100,100,100,100,100,   100,100,100,100,100],
			AD =     [105,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"       ,100,125,132,132,140,   140,147,147,147,160],
			],
		},
# Anna's Hellfanger ###########################################################
		"hfang000": {
			name = "Blood Reaver",
			description = "Cutting strike that partially ignores armor. Attempts to inflict damage over time on BIO targets.",
			costWP = 3,
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			energy = false,
			ranged = false,
			codeMN = [
				["ignore_armor", 025, 0],
				["attack"  ,120,125,130,135,150, 155,160,165,170,190],
				["if_race_aspect", 0b010, 0],
					["dot"        , 0x1001230, 0]
			],
		},
		"hfang001": {
			name = "Calamity Blaze",
			description = "Cut kinetic attack + Fire energy attack, ignoring some armor.",
			displayElement = [1, 4],
			costWP = 5,
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			energy = false,
			ranged = false,
			codeMN = [
				["ignore_armor", 015, 0],
				["attack", 110,115,120,120,130, 135,135,135,135,140],
				["element", 4, 0],
				["energy_dmg", 1, 0],
				["attack", 035,035,035,035,040, 040,042,045,048,060],
			],
		},
		"hfangOVR": {
			name = "Calamity Blaze",
			description = "Powerful cut strike that partially ignores armor, followed by a strong fire strike that ignores barriers. FF: If target's DF is under 100, set it to 100.",
			displayElement = [1, 4],
			costOV = skill.OVER_COST_3,
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			energy = false,
			ranged = false,
			codeMN = [
				["ignore_armor", 045, 0],
				["attack", 110,115,120,120,130, 135,135,135,135,140],
				["element", 4, 0],
				["energy_dmg", 1, 0],
				["ignore_armor", 000, 0],
				["ignore_barrier", 001, 0],
				["attack", 110,115,120,120,130, 135,135,135,135,140],
				["if_ef_bonus>=", 002, 0],
					["ad.reset", 001, 0],
			],
		},
# Yukiko's Polar Star #########################################################
		"snobulle": {
			name = "Snow Bullet",
			description = "Fires bullets etched with magical glyphs that expel the target's heat in a burst, reducing its internal temperature.",
			ranged = true,
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ICE,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			accMod = 92,
			spdMod = [090,100,100,100,100,   100,100,100,100,100],
			AD =     [110,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"       ,125,125,132,132,140,   140,147,147,147,160],
				["inflict",     0x211, 0],
				#TODO: Try to hit back row with a fire energy hit.
			],
		},
		"calmshot": {
			name = "Calming Shot",
			description = "A magical ice shot designed to incapacitate. It will never kill a target.",
			lore        = "How can she fight so fiercely, yet hold such a minuscule killing intent...?",
			ranged = true,
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ICE,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			accMod = 95,
			spdMod = [075,100,100,100,100,   100,100,100,100,100],
			AD =     [105,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["nonlethal"    ,001, 0],
				["attack"       ,999,125,132,132,140, 140,147,147,147,160],
				["inflict"      ,0x211, 0]
			],
		},
		"valkaccl": {
			name = "Hamaya", #破魔矢
			description = "Manipulates the Akashic Records to hold the enemy still, delivering a devastating, accelerated shot. Might destroy a frozen target.",
			ranged = true,
			category = skill.CAT_OVER,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ICE,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			accMod = 100,
			spdMod = [100,100,100,100,100,   100,100,100,100,100],
			AD =     [095,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				#TODO: Check for cryo condition. If true, attempt instant defeat.
				#TODO: Add an "evil" flag to certain enemies. Check for it and deal extra damage.
				["attack"       ,999,125,132,132,140,   140,147,147,147,160],
			],
		},
# Elodie's Pleine-De-Vie ######################################################
		"solbull":{
			name = "Solar Bullet",
			description = "Fires a barrage of Neo-Heliolite-tipped bullets which explode on impact.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_PIERCE,
			damageStat = core.stats.STAT.ATK,
			modStat = core.stats.STAT.LUC,
			accMod = [100,099,099,099,099,   099,099,099,099,099],
			spdMod = [100,100,100,100,100,   100,100,100,100,100],
			AD =     [105,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"       ,100,125,132,132,140,   140,147,147,147,160],
			],
		},
		"solbeam":{
			name = "Solar Cannon",
			description = "Fires a barrage of Neo-Heliolite-tipped bullets which explode on impact.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_PIERCE,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			accMod = [110,099,099,099,099,   099,099,099,099,099],
			spdMod = [075,100,100,100,100,   100,100,100,100,100],
			AD =     [105,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"       ,550,125,132,132,140,   140,147,147,147,160],
			],
		},
		"heliosph":{
			name = "Heliosphere",
			description = "Fires a barrage of Neo-Heliolite bullets around the enemy and releases all of the contained energy as heat.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_FIRE,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			accMod = [110,099,099,099,099,   099,099,099,099,099],
			spdMod = [075,100,100,100,100,   100,100,100,100,100],
			AD =     [105,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"       ,450,125,132,132,140,   140,147,147,147,160],
			],
		},
	},
# Dragon gem skills ###############################################################################
	"gem": {
		"firewave": {
			name = "Fire Wave",
			description = "Decreases effectiveness of healing on target.",
			animations = { 'main' : "/nodes/FX/basic_test2.tscn" },
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_FIRE,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			ranged = true,
			codeMN = [
				["heal.mod", -50, 0 ],
				["attack" , 060,063,065,068,075, 078,080,083,086,090],
			],
		},
		"cryoblst": {
			name = "Cryoblast",
			description = "May inflict cryostasis on the target.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ICE,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			ranged = true,
			codeMN = [
				["attack" , 060,063,065,068,075, 078,080,083,086,090],
				["inflict", 0,0,0,0,0x211, 0x211,0x211,0x211,0x211,0x221],
			],
		},
		"eleburst": {
			name = "Electroburst",
			description = "May inflict paralysis on the target.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ELEC,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			ranged = true,
			codeMN = [
				["attack" , 060,063,065,068,075, 078,080,083,086,090],
				["inflict", 0,0,0,0,0x111, 0x111,0x111,0x111,0x111,0x121],
			],
		},
		"galeblde": {
			name = "Gale Blade",
			description = "May inflict damage over time.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			ranged = true,
			codeMN = [
				["dot"    , 0x1001230, 0],
				["attack" , 060,063,065,068,075, 078,080,083,086,090],
			],
		},
		"slash": {
			name = "Slash",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			energy = false,
			damageStat = core.stats.STAT.ATK,
			ranged = false,
			codeMN = [
				["dot"    , 0x1001230, 0],
				["attack" , 060,063,065,068,075, 078,080,083,086,090],
			],
		},
		"aquabrst": {
			name = "Aqua Impact",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_STRIKE,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			ranged = true,
			codeMN = [
				["attack"       , 030,033,035,038,045, 048,050,053,056,060],
				["attack.combo" , 030,033,035,038,045, 048,050,053,056,060],
			],
		},
		"smash": {
			name = "Smash",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_STRIKE,
			energy = false,
			damageStat = core.stats.STAT.ATK,
			ranged = false,
			codeMN = [
				["attack"       , 030,033,035,038,045, 048,050,053,056,060],
				["attack.combo" , 030,033,035,038,045, 048,050,053,056,060],
			],
		},
		"gemspear": {
			name = "Gem Spear",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_PIERCE,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			ranged = true,
			codeMN = [
				["ignore_armor", 010,012,012,014,020, 020,022,022,022,025],
				["attack"      , 060,063,065,068,075, 078,080,083,086,090],
			],
		},
		"perfrate": {
			name = "Perforate",
			description = "Partially ignores armor.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_PIERCE,
			energy = false,
			ranged = false,
			damageStat = core.stats.STAT.ATK,
			codeMN = [
				["ignore_armor", 010,012,012,014,020, 020,022,022,022,025],
				["attack"      , 060,063,065,068,075, 078,080,083,086,090],
			],
		},
		"prism": {
			name = "Prismatic Light",
			description = "Strikes with the most effective element.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_UNTYPED,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			ranged = false,
			codeMN = [
				["element", 010, 0],
				["attack" , 050,056,059,062,065, 068,071,074,077,085],
			],
		},
		"destroy": {
			name = "Destroy",
			description = "Powerful Void element attack. Has a chance to change every element on the field to its own.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ULTIMATE,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			ranged = true,
			codeMN = [
				[ "fe.replace2", 050, 0 ],
				[ "attack", 070,073,075,078,085, 088,090,093,096,110 ],
			],
		},
		"revitlze": {
			name = "Revitalize",
			description = "",
			animations = {'main' : "/nodes/FX/basic_heal.tscn"},
			animFlags = skill.ANIMFLAGS_COLOR_FROM_ELEMENT,
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_UNTYPED,
			energy = true,
			damageStat = core.stats.STAT.EDF,
			ranged = true,
			codeMN = [
				["heal_raw_bonus", 020,023,025,028,075,   078,080,083,086,090],
				["heal",           060,063,065,068,075,   078,080,083,086,090],
			],
		},
		"drshield": {
			name = "Dragon Shield",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_UNTYPED,
			energy = true,
			damageStat = core.stats.STAT.EDF,
			ranged = true,
			spdMod = 135,
			codeMN = [
				["barrier", 025, skill.OPFLAG_VALUE_PERCENT],
				["barrier", 025,045,065,085,105, 125,145,165,185,225],
				["AD"   , -05,-06,-07,-08,-10, -11,-12,-13,-14,-16]
			],
		},
		"echo": {
			name = "Echo Burst",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_UNTYPED,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			ranged = true,
			codeMN = [
				["fe.el_setdomi", 000, 000, 000, 000, 000,   000, 000, 000, 000, 000],
				["attack"       , 050, 055, 060, 065, 075,   080, 085, 090, 095, 110],
			],
		},
	},
# Testing skills ##################################################################################
	"debug": {
		"debug": {
			name = "Debug Strike",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_UNTYPED,
			energy = false,
			ranged = true,
			accMod = [100, 099, 099, 099, 099,   099, 099, 099, 099, 099],
			codeMN = [
				["attack", 100, 105, 110, 115, 125,   130, 135, 140, 145, 160],
			],
		},
		"bash": {
			name = "Bash",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_STRIKE,
			energy = false,
			ranged = false,
			codeMN = [
				["attack", 100, 105, 110, 115, 125,   130, 135, 140, 145, 160],
			],
		},
		"slash": {
			name = "Slash",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			energy = false,
			ranged = false,
			codeMN = [
				["attack", 100, 105, 110, 115, 125,   130, 135, 140, 145, 160],
			],
		},
		"fireslsh": {
			name = "Burning Slash",
			displayElement = [1, 4],
			description = "",
			costWP = 5,
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			energy = false,
			ranged = false,
			codeMN = [
				["attack"  ,040,105,110,115,125, 130,135,140,145,160],
				["element" ,004,105,110,115,125, 130,135,140,145,160],
				["attack"  ,060,105,110,115,125, 130,135,140,145,160],
			],
		},
		"shckstab": {
			name = "Shock Stab",
			description = "",
			displayElement = [2, 6],
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_PIERCE,
			energy = false,
			ranged = false,
			codeMN = [
				["attack"  ,040,105,110,115,125, 130,135,140,145,160],
				["element" ,006,105,110,115,125, 130,135,140,145,160],
				["attack"  ,060,105,110,115,125, 130,135,140,145,160],
			],
		},
		"stab": {
			name = "Stab",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_PIERCE,
			energy = false,
			ranged = false,
			codeMN = [
				["attack", 100, 105, 110, 115, 125,   130, 135, 140, 145, 160],
			],
		},
		"shoot": {
			name = "Shoot",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_PIERCE,
			energy = false,
			ranged = true,
			codeMN = [
				["attack", 100, 105, 110, 115, 125,   130, 135, 140, 145, 160],
			],
		},
		"elemshot": {
			name        = "Elemental Shot",
			description = "",
			category    = skill.CAT_ATTACK,
			target      = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element     = core.stats.ELEMENTS.DMG_UNTYPED,
			energy   = false,
			ranged      = true,
			codeMN = [
				["fe.el_setdomi", 000, 0],
				["attack"       , 100,105,110,115,125, 130,135,140,145,160],
				["fe.consume"   , 000, 0],
				["fe.replace"   , 000, 0],
			],
		},
		"sprshot": {
			name = "Spread Shot",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_ROW,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_PIERCE,
			energy = false,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			accMod = [085, 099, 099, 099, 099,   099, 099, 099, 099, 099],
			spdMod = [065, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = [105, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeMN = [
				["attack", 075, 125, 132, 132, 140,   140, 147, 147, 147, 160],
			],
		},
		"debugi": {
			name = "Debug Blast",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_UNTYPED,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			ranged = true,
			levels = 10,
			codeMN = [
				["attack", 100, 105, 110, 115, 125,   130, 135, 140, 145, 160],
			],
		},
		"regenera": {
			name = "Regenerate",
			description = "",
			category = skill.CAT_PASSIVE,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			codeEF = [
				["if_full_health", skill.OPFLAG_LOGIC_NOT],
					["heal", 025, 0],
			],
			codeEA0 = [
				["heal", 025, skill.OPFLAG_TARGET_SELF],
			]
		},
		"heal": {
			name = "Heal",
			description = "",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ALLY,
			ranged = true,
			accMod = [100, 099, 099, 099, 099,   099, 099, 099, 099, 099],
			spdMod = [080, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = [105, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeMN = [
				["heal", 125, 125, 132, 132, 140,   140, 147, 147, 147, 160],
			],
		},
		"sacrific": {
			name        = "Sacrifice",
			description = "Lowers user's health to 1, then heals target for user's max health.",
			category    = skill.CAT_SUPPORT,
			target      = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ALLY,
			ranged      = true,
			codeMN = [
				[ "vital.set", 001, skill.OPFLAG_TARGET_SELF|skill.OPFLAG_VALUE_ABSOLUTE ],
				[ "get_max_health", skill.OPFLAG_TARGET_SELF ],
				[ "heal", 0, skill.OPFLAG_USE_SVAL|skill.OPFLAG_VALUE_ABSOLUTE],
			],
		},
		"rowheal": {
			name = "Row Heal",
			description = "",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_ROW,
			targetGroup = skill.TARGET_GROUP_ALLY,
			ranged = true,
			accMod = [100, 099, 099, 099, 099,   099, 099, 099, 099, 099],
			spdMod = [080, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = [105, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeMN = [
				["heal", 125, 125, 132, 132, 140,   140, 147, 147, 147, 160],
			],
		},
		"prtyheal": {
			name = "Party Heal",
			description = "",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_UNTYPED,
			energy = false,
			damageStat = core.stats.STAT.ATK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			levels = 10,
			accMod = [100, 099, 099, 099, 099,   099, 099, 099, 099, 099],
			spdMod = [075, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = [105, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeMN = [
				["heal", 080, 125, 132, 132, 140,   140, 147, 147, 147, 160],
			],
		},
		"srnauror": {
			name = "Serene Winds",
			description = "",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_ALL,
			fieldEffectMult = 2,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_CUT,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			levels = 10,
			spdMod = [075, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = [105, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeST = [
				["fe.replace2", 015, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			],
			codeMN = [
				["heal", 080, 125, 132, 132, 140,   140, 147, 147, 147, 160],
			],
		},
		"restshrd": {
			name = "Restoration Shard",
			description = "",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_ROW,
			fieldEffectMult = 2,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_ELEC,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			levels = 10,
			spdMod = [075,100,100,100,100,   100,100,100,100,100],
			AD =     [105,100,100,100,100,   100,100,100,100,100],
			codePR = [
				["fe.replace2",   005,100,100,100,100,  100,100,100,100,100],
			],
			codeMN = [
				["heal",          080,125,132,132,140,  140,147,147,147,160],
				["if_ef_bonus>=", 005,125,132,132,140,  140,147,147,147,160, skill.OPFLAG_QUIT_ON_FALSE],
				["heal",          080,125,132,132,140,  140,147,147,147,160],
			],
		},
		"healbio": {
			name = "Healing",
			category = skill.CAT_SUPPORT,
			animations = { 'main': "/nodes/FX/basic_heal.tscn" },
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ALLY,
			ranged = true,
			codeMN = [
				["if_race_aspect", 002,125,132,132,140,  140,147,147,147,160, skill.OPFLAG_BLOCK_START],
					["heal",          075,125,132,132,140,  140,147,147,147,160, skill.OPFLAG_VALUE_ABSOLUTE],
					["stop",          001,001,001,001,001,  001,001,001,001,001],
				["heal",          015,125,132,132,140,  140,147,147,147,160, skill.OPFLAG_VALUE_ABSOLUTE],
			],
		},
		"healmec": {
			name = "Heal Machine",
			category = skill.CAT_SUPPORT,
			animations = { 'main': "/nodes/FX/basic_heal.tscn" },
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ALLY,
			ranged = true,
			codeMN = [
				["if_race_aspect", 001,125,132,132,140,  140,147,147,147,160, skill.OPFLAG_BLOCK_START],
					["heal",          085,125,132,132,140,  140,147,147,147,160, skill.OPFLAG_VALUE_ABSOLUTE],
					["stop",          001,001,001,001,001,  001,001,001,001,001],
				["heal",          015,125,132,132,140,  140,147,147,147,160, skill.OPFLAG_VALUE_ABSOLUTE],
			],
		},
		"revive": {
			name = "Revive",
			category = skill.CAT_SUPPORT,
			animations = {'main' : "/nodes/FX/basic_heal.tscn"},
			target = skill.TARGET_SINGLE,
			filter = skill.FILTER_DOWN,
			targetGroup = skill.TARGET_GROUP_ALLY,
			ranged = true,
			codeMN = [
				["revive",       015,125,132,132,140,  140,147,147,147,160, skill.OPFLAG_VALUE_ABSOLUTE],
			],
		},
		"barricad": {
			name = "Barricade",
			description = "Protect a party member.",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			effect = skill.EFFECT_STATS,
			effectType = skill.EFFTYPE_BUFF,
			effectStatBonus = {
				DEF_MULT = [020,000,000,000,000, 000,000,000,000,000],
				AGI_MULT = [-50,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = [003, 003, 000, 000, 000,   000, 000, 000, 000, 000],
			effectPriority = 1,
			accMod = [100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			spdMod = [150, 180, 180, 180, 180,   200, 200, 200, 200, 200],
			AD = [050,048,046,044,042, 038,036,034,032,030],
			codeMN = [
				["barrier", 012,013,016,019,022, 030,032,035,037,040, skill.OPFLAG_VALUE_PERCENT],
			],
		},
		"solidbun": {
			name = "Solid Bunker",
			description = "Increases defense and resistance to kinetic attacks.",
			category = skill.CAT_SUPPORT,
			requiresWeapon = 1,
			target = skill.TARGET_ROW,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_STRIKE,
			effect = skill.EFFECT_STATS,
			effectIfActive = skill.EFFCOLL_ADD,
			effectType = skill.EFFTYPE_BUFF,
			effectStatBonus = {
				DEF_MULT     = [120,000,000,000,000, 000,000,000,000,000],
				RES_KIN      = [020,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = [000,002,002,002,003, 003,003,003,003,004],
			effectPriority = 0,
			AD = 			[110, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			spdMod = 	[150, 100, 100, 100, 100,   100, 100, 100, 100, 100],
		},
		"alertstc": {
			name = "Situation check",
			description = "",
			dangerous = true,
			animations = { 'main' : "/nodes/FX/basic_charge.tscn" },
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			effect = skill.EFFECT_SPECIAL,
			effectIfActive = skill.EFFCOLL_REFRESH,
			effectType = skill.EFFTYPE_BUFF,
			effectDuration = 0,
			effectPriority = 0,
			AD = 			[075, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			spdMod = 	[200, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeMN = [
				["counter"    ,   0x15000200, 0],
			],
			codeFL = [
				["enemy.summon",   001,000,000,000,000,  000,000,000,000,000],
			]
		},
		"decoy": {
			name = "Decoy",
			description = "",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			effect = skill.EFFECT_STATS,
			effectType = skill.EFFTYPE_BUFF,
			effectStatBonus = {
				DECOY = [100,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = [001,000,000,000,000, 000,000,000,000,000],
			effectPriority = 1,
			spdMod = [180, 180, 180, 180, 180,   200, 200, 200, 200, 200],
			AD = [050, 048, 046, 044, 042,   038, 036, 034, 032, 030],
			codeMN = [
				["barrier", 010,013,016,019,022, 030,032,035,037,040, skill.OPFLAG_VALUE_PERCENT],
			],
		},
		"trikshot": {
			name = "Trick Shot",
			description = "Stronger if the enemy is afflicted with a condition.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_PIERCE,
			energy = false,
			damageStat = core.stats.STAT.ATK,
			ranged = true,
			accMod = [095,099,099,099,099, 099,099,099,099,099],
			spdMod = [100,100,100,100,100, 100,100,100,100,100],
			AD =     [100,100,100,100,100, 100,100,100,100,100],
			codeMN = [
				["if_condition", 000,125,132,132,140, 140,147,147,147,160],
					["dmgbonus",  095,125,132,132,140, 140,147,147,147,160],
				["attack",    065,125,132,132,140, 140,147,147,147,160],
			],
			codePR = [
				["printmsg", 001,002,002,002,002, 002,002,002,002,002],
				["wait",     100,002,002,002,002, 002,002,002,002,002],
			],
			messages = [
				"{USER} takes aim!",
			],
		},
		"focushot": {
			name           = "Focus Shot",
			description    = "Marks an enemy for a chase attack.",
			category       = skill.CAT_ATTACK,
			requiresWeapon = core.WPCLASS_FIREARM,
			target         = skill.TARGET_SINGLE,
			targetGroup    = skill.TARGET_GROUP_ENEMY,
			element        = core.stats.ELEMENTS.DMG_PIERCE,
			energy      = false,
			damageStat     = core.stats.STAT.ATK,
			ranged = true,
			spdMod = [150,100,100,100,100, 100,100,100,100,100],
			AD =     [110,100,100,100,100, 100,100,100,100,100],
			codeMN = [
				["attack"    , 045,125,132,132,140, 140,147,147,147,160],
				["if_connect", 001, skill.OPFLAG_QUIT_ON_FALSE],
					["chase", 0x164230, 0],
			],
			codeFL = [
				["attack"    , 045,125,132,132,140, 140,147,147,147,160],
			]
		},
		"hyprshot": {
			name = "Gateway Shot",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_PIERCE,
			energy = false,
			damageStat = core.stats.STAT.ATK,
			ranged = true,
			spdMod = [090,100,100,100,100,   100,100,100,100,100],
			AD =     [090,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["if_chance", 020,125,132,132,140,   140,147,147,147,160, skill.OPFLAG_BLOCK_START],
					["printmsg",  002,002,002,002,002,   002,002,002,002,002],
					["element",   008, 0],
					["attack",    220,125,132,132,140,   140,147,147,147,160, skill.OPFLAG_BLOCK_END],
				["attack",    080,125,132,132,140,   140,147,147,147,160],
			],
			messages = [
				"{USER} focuses!",
				"{USER} breaks {TARGET}'s defenses!"
			],
		},
		"wideslsh": {
			name = "Wide Slash",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_ROW,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_CUT,
			energy = false,
			damageStat = core.stats.STAT.ATK,
			modStat = core.stats.STAT.LUC,
			ranged = false,
			spdMod = [095, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = [105, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeMN = [
				["attack", 105, 125, 132, 132, 140,   140, 147, 147, 147, 160],
			],
		},
		"firebrst": {
			name = "Fire Burst",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_ROW,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_FIRE,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			spdMod = [100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = [100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeMN = [
				["attack", 100, 125, 132, 132, 140,   140, 147, 147, 147, 160],
			],
		},
		"vampdran": {
			name = "Vampiric Drain",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_SINGLE,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ULTIMATE,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			spdMod = [100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = [100, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			codeMN = [
				["drainlife", 100, 125, 132, 132, 140,   140, 147, 147, 147, 160],
				["attack", 100, 125, 132, 132, 140,   140, 147, 147, 147, 160],
			],
		},
		"selfrepr": {
			name = "System Repair",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_SELF,
			targetGroup = skill.TARGET_GROUP_ALLY,
			filter = skill.FILTER_ALIVE,
			codeMN = [
				["heal", 999, 999, 999, 999, 999,   999, 999, 999, 999, 999, skill.OPFLAG_VALUE_ABSOLUTE],
			],
		},
		"defdown": {
			name = "Defense Down",
			description = "",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_ALL,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_UNTYPED,
			effect = skill.EFFECT_STATS,
			effectType = skill.EFFTYPE_DEBUFF,
			effectStatBonus = {
				RES_KIN = [025,000,000,000,000, 000,000,000,000,000],
				RES_ENE = [025,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = [002, 002, 002, 002, 003,   003, 003, 003, 003, 004],
			effectPriority = 3,
			accMod =	[075, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = 			[120, 100, 100, 100, 100,   100, 100, 100, 100, 100],
		},
		"speedup": {
			name = "Quicken",
			description = "",
			category = skill.CAT_SUPPORT,
			target = skill.TARGET_ROW,
			targetGroup = skill.TARGET_GROUP_ALLY,
			element = core.stats.ELEMENTS.DMG_CUT,
			effect = skill.EFFECT_STATS,
			effectIfActive = skill.EFFCOLL_ADD,
			effectType = skill.EFFTYPE_BUFF,
			effectStatBonus = {
				AGI_MULT = [150,000,000,000,000, 000,000,000,000,000],
			},
			effectDuration = [002, 002, 002, 002, 003,   003, 003, 003, 003, 004],
			effectPriority = 3,
			accMod =	[080, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			AD = 			[110, 100, 100, 100, 100,   100, 100, 100, 100, 100],
			spdMod = 	[110, 100, 100, 100, 100,   100, 100, 100, 100, 100],
		},
		"memebeyo": {
			name = "Memento from the Void",
			description = "Self destructs for a dual-elemental ultimate and fire attack.",
			category = skill.CAT_ATTACK,
			target = skill.TARGET_ROW,
			targetGroup = skill.TARGET_GROUP_ENEMY,
			element = core.stats.ELEMENTS.DMG_ULTIMATE,
			energy = true,
			damageStat = core.stats.STAT.ETK,
			modStat = core.stats.STAT.LUC,
			ranged = true,
			accMod = [090,099,099,099,099,   099,099,099,099,099],
			spdMod = [120,100,100,100,100,   100,100,100,100,100],
			AD =     [110,100,100,100,100,   100,100,100,100,100],
			codeMN = [
				["attack"            ,050,125,132,132,140,   140,147,147,147,160],
				["element"           ,004,004,004,004,004,   004,004,004,004,004],
				["attack"            ,050,125,132,132,140,   140,147,147,147,160],
			],
			codePO = [
				["defeat"            ,100,125,132,132,140,   140,147,147,147,160],
			],
		},
	},
}

func initTemplate():
	return {
		"name"           : { loader = LIBSTD_STRING, default = "Unnamed Skill" },
		"description"    : { loader = LIBSTD_STRING, default = "Description of the skill's raw function." },
		"lore"           : { loader = LIBSTD_STRING, default = "Long winded story-relevant piece." },
		"displayElement" : { loader = LIBSTD_VARIABLEARRAY },
		"dangerous"      : { loader = LIBSTD_BOOL, default = false },
		"category"       : { loader = LIBSTD_INT },

		"costWP"         : { loader = LIBSTD_SKILL_ARRAY, default = [0,0,0,0,0,0,0,0,0,0] },
		"costEP"         : { loader = LIBSTD_SKILL_ARRAY, default = [0,0,0,0,0,0,0,0,0,0] },
		"costOV"         : { loader = LIBSTD_INT, default = core.skill.OVER_COST_1 },
		"requiresPart"   : { loader = LIBSTD_INT, default = 0 },
		"requiresWeapon" : { loader = LIBSTD_INT, default = 0 },
		"target"         : { loader = LIBSTD_SKILL_ARRAY },
		"targetPost"     : { loader = LIBSTD_SKILL_ARRAY },
		"targetGroup"    : { loader = LIBSTD_INT },
		"element"        : { loader = LIBSTD_SKILL_ARRAY, default = [0,0,0,0,0,0,0,0,0,0] },
		"energy"         : { loader = LIBSTD_BOOL, default = true },
		"damageStat"     : { loader = LIBSTD_INT , default = core.stats.STAT.ATK },
		"modStat"        : { loader = LIBSTD_INT , default = core.stats.STAT.LUC },

		"fieldEffectMult" : { loader = LIBSTD_SKILL_ARRAY, default = [1,1,1,1,1,1,1,1,1,1] },
		"fieldEffectAdd"  : { loader = LIBSTD_SKILL_ARRAY, default = [1,1,1,1,1,1,1,1,1,1] },

		"targetBlacklist" : { loader = LIBSTD_TID_ARRAY, default = null},

		"effect"          : { loader = LIBSTD_INT },
		"effectType"      : { loader = LIBSTD_INT },
		"effectIfActive"  : { loader = LIBSTD_INT },
		"effectCancel"    : { loader = LIBSTD_INT },
		"effectStatBonus" : { loader = LIBEXT_EFFECT_STATBONUS, default = null },
		"effectDuration"  : { loader = LIBSTD_SKILL_ARRAY },
		"effectPriority"  : { loader = LIBSTD_INT },

		#Animation and FX related.
		"chargeAnim"      : { loader = LIBSTD_SKILL_ARRAY, default = [0,0,0,0,0, 0,0,0,0,0] },
		"animations"      : { loader = LIBEXT_ANIM, default = { 'main': "/nodes/FX/basic.tscn" } },
		"animFlags"       : { loader = LIBSTD_SKILL_ARRAY, default = [0,0,0,0,0, 0,0,0,0,0]},
		"fx"              : { loader = LIBEXT_FX, default = [] },
		"effector"        : { loader = LIBSTD_STRING, default = '' },

		"filter"    : { loader = LIBSTD_INT        , default = core.skill.FILTER_ALIVE },
		"ranged"    : { loader = LIBSTD_SKILL_ARRAY, default = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0] },
		"levels"    : { loader = LIBSTD_INT        , default = 10 },
		"accMod"    : { loader = LIBSTD_SKILL_ARRAY, default = [090,090,090,090,090, 090,090,090,090,090] },
		"spdMod"    : { loader = LIBSTD_SKILL_ARRAY, default = [100,100,100,100,100, 100,100,100,100,100] },
		"critMod"   : { loader = LIBSTD_SKILL_ARRAY, default = [005,005,005,005,005, 005,005,005,005,005] },
		"AD"        : { loader = LIBSTD_SKILL_ARRAY, default = [100,100,100,100,100, 100,100,100,100,100] },
		"initAD"    : { loader = LIBSTD_SKILL_ARRAY, default = [100,100,100,100,100, 100,100,100,100,100] },
		"chain"     : { loader = LIBSTD_INT        , default = core.skill.CHAIN_NONE },

		#TODO: Review these! Might need to use a new format allowing to specify custom data in some way.
		"linkSkill" : { loader = LIBSTD_SKILL_LIST },
		"synergy"   : { loader = LIBSTD_SKILL_LIST },
		"messages"  : { loader = LIBEXT_SKILL_MESSAGES },
		"summons"   : { loader = LIBSTD_SUMMONS, default = null},

		#Skill codes
		"codePR" : { loader = LIBSTD_SKILL_CODE },
		"codePP" : { loader = LIBSTD_SKILL_CODE },
		"codeST" : { loader = LIBSTD_SKILL_CODE }, #Turn startup code.
		"codeMN" : { loader = LIBSTD_SKILL_CODE }, #Main skill code.
		"codePO" : { loader = LIBSTD_SKILL_CODE },
		"codeFL" : { loader = LIBSTD_SKILL_CODE },
		"codeDN" : { loader = LIBSTD_SKILL_CODE },
		"codeGD" : { loader = LIBSTD_SKILL_CODE },
		"codeEF" : { loader = LIBSTD_SKILL_CODE },
		"codeEP" : { loader = LIBSTD_SKILL_CODE },
		"codeEE" : { loader = LIBSTD_SKILL_CODE },
		"codeEA" : { loader = LIBSTD_SKILL_CODE },
		"codeEA0": { loader = LIBSTD_SKILL_CODE },
		"codeEA1": { loader = LIBSTD_SKILL_CODE },
		"codeES0": { loader = LIBSTD_SKILL_CODE },
		"codeES1": { loader = LIBSTD_SKILL_CODE },
		"codeEH" : { loader = LIBSTD_SKILL_CODE },
		"codeED" : { loader = LIBSTD_SKILL_CODE },
	}

func loadDebug():
	print("[SKILL][loadDebug] Loading core skills.")
	loadDict(example)
	print("[SKILL][loadDebug] Core skills loaded.")

func name(id):
	var entry = getIndex(id)
	return entry.name if entry else "ERROR"

func loaderSkillFilterEXArg(val):
	if val == null:
		return null
	else:
		return val

func loaderFX(val) -> Array: #Loads skill effectors.
	match typeof(val):
		TYPE_NIL:
			return []
		TYPE_ARRAY:
			var result:Array = []
			for i in range(val.size()):
				result.push_back(str(val[i]))
			return result
		_:          # Unknown input. Print error and return null.
			print("\t[!!][SKILL][loaderFX] Unknown input type, returning empty array.")
			return []

func loaderMessages(val): #Loads skill messages.
	match typeof(val):
		TYPE_NIL:   # Input is null. Return null so printing a message can just skip the process.
			return null
		TYPE_ARRAY: # Input is an array. This is the expected input, load all messages.
			var messages = []
			for i in range(val.size()): messages.push_back(str(val[i]))
			return messages
		_:          # Unknown input. Print error and return null.
			print("\t[!!][SKILL][loaderMessages] Unknown input type, returning null.")
			return null

func loaderEffectStatBonus(dict): #Loads effect stat modifiers.
	if dict == null: return null
	var stats = core.stats
	var result = {}
	for key in dict: result[key.to_upper()] = loaderSkillArray(dict[key])
	return result

func loaderSkillLink(val): #Loads linked skills.
	return null

func loaderAnim(val): #Loads animations.
	var result = {}
	if val != null:
		for i in val:
			result[i] = "res:/%s" % str(val[i])
		if not 'main' in result:
			result['main'] = "res://nodes/FX/basic.tscn"
		if not 1 in result:
			result[1] = result.main
	return result
